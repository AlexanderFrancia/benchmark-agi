flowchart TB
  classDef ui fill:#eef6ff,stroke:#1d4ed8,color:#1d4ed8,stroke-width:2px
  classDef core fill:#f5f3ff,stroke:#6d28d9,color:#5b21b6,stroke-width:2px
  classDef process fill:#ecfeff,stroke:#0e7490,color:#0e7490,stroke-width:2px
  classDef analytics fill:#fefce8,stroke:#a16207,color:#854d0e,stroke-width:2px
  classDef storage fill:#fef2f2,stroke:#b91c1c,color:#7f1d1d,stroke-width:2px
  classDef decision fill:#fef3c7,stroke:#d97706,color:#92400e,stroke-width:2px
  classDef start fill:#f0fdf4,stroke:#15803d,color:#166534,stroke-width:3px
  classDef final fill:#fef2f2,stroke:#b91c1c,color:#7f1d1d,stroke-width:3px

  START((INICIO)):::start
  
  START --> UI[Interfaz Web Django]:::ui
  
  UI --> VALIDATE{Sistema LM disponible}:::decision
  
  VALIDATE -->|NO| ERROR[Notificar Error]:::final
  VALIDATE -->|SI| SELECT[Seleccion de Modulo]:::process
  
  SELECT --> MODULES{Tipo de Tarea}:::decision
  
  MODULES -->|ARC| ARC[Modulo ARC<br/>Puzzles Visuales]:::process
  MODULES -->|MAZE| MAZE[Modulo MAZE<br/>Laberintos]:::process
  
  ARC --> LOAD_DATA[Cargar Dataset]:::process
  MAZE --> LOAD_DATA
  
  LOAD_DATA --> EXECUTION[Ejecucion con LM Studio]:::core
  
  EXECUTION --> RETRY_LOGIC[Sistema de Reintentos]:::core
  
  RETRY_LOGIC --> METRICS[Calculo de Metricas]:::analytics
  
  METRICS --> STORE[Almacenamiento en BD]:::storage
  
  STORE --> EXPORT[Exportacion de Resultados]:::storage
  
  EXPORT --> DASHBOARD[Dashboard Power BI]:::ui
  
  ERROR --> END1((FIN)):::final
  DASHBOARD --> END2((FIN)):::final